# ============================================================
# HomeMediaForge - dnsmasq auto-generated hosts (RuntimeContainer)
# ============================================================
{{ $localDomain := or (env "HMF_LOCAL_DOMAIN") "media.local" }}
{{ range $container := . }}
{{- if $container.State.Running }}
{{- $name := trimPrefix "/" $container.Name }}
{{- range $netName, $network := $container.Networks }}
{{- $ip := or $network.IPAddress $network.IP }}
{{- if $ip }}
address=/{{ $name }}.local/{{ $ip }}
address=/{{ $name }}.{{ $localDomain }}/{{ $ip }}
{{- end }}
{{- end }}
{{- end }}
{{ end }}
